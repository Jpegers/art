# Portfolio v24.3 — простая модульная архитектура

Цель v19: каждый файл — часть одного механизма, но при этом его можно заменить/варьировать без каскадных поломок.

## 1) Что является «источником правды»
- **CSS**: всё визуальное управление идёт через `/css/colors.css` (дизайн-токены).
- **JS**: точка входа `/js/app.js` (инициализация и подключение логики).

Legacy-файлы (если присутствуют) не подключаются и нужны только как «архив» для отката.

---

## 2) Структура и ответственность

### CSS
- `/css/colors.css`
  - дизайн-токены (цвета/бордеры/палитра тегов)
  - темы: `default`, `graphite`, `warm`
- `/css/base.css`
  - reset + базовая типографика + общие элементы
- `/css/layout.css`
  - сетка страницы, header/footer, фильтры
- `/css/components.css`
  - карточки, модалки, медиа-слои, лоадеры
- `/css/mobile.css`
  - только `@media` overrides (без новых компонентов и без цветов)

**Связь:** все страницы подключают CSS в одном порядке:
`colors → base → layout → components → mobile`

---

### JS
- `/js/app.js`
  - «оркестратор»: запускает инициализацию модулей
- `/js/grid.js`
  - логика Pinterest-сетки (рендер + пересчёт layout)
- `/js/media.js`
  - открытие/закрытие карточек, поведение медиа внутри
- `/js/cookies.js`
  - баннер/согласие (если используется страницами)
- `/rita/rita.js`
  - только логика страницы Rita

**Связь:** главная подключает `app.js`, а он использует экспортируемые функции модулей.

---

## 3) Темы (как менять «на лету»)
Темы живут в `/css/colors.css`. Переключение делается атрибутом на теге `<html>`:

- default: `data-theme="default"`
- graphite: `data-theme="graphite"`
- warm: `data-theme="warm"`

Пример:
```html
<html lang="ru" data-theme="graphite">
```

Менять можно:
- руками в HTML (и закоммитить),
- временно в DevTools, чтобы «пощупать» варианты.

---

## 4) Правило «идеала» для дальнейшей работы
1) **Никаких цветов вне `colors.css`**  
   Если появляется `#...` в других файлах — переносим в токены.
2) `mobile.css` — только адаптивные overrides.
3) Логику не смешиваем:
   - сетка — в `grid.js`
   - медиа — в `media.js`
   - init — в `app.js`

---

## 5) Быстрый чек после правок
- открыть главную
- проскроллить, проверить header
- клик по карточке (открытие/закрытие)
- фильтры (актив/снятие)
- мобильная ширина (DevTools)

Если где-то «ничего не меняется» при смене токенов — значит, есть жёсткий override (ищем и выносим в `colors.css`).

## Хедер и футер

- Хедер и футер унифицированы и одинаковы на всех страницах.
- Лого имеет `id="logo-link"` (используется JS для сброса фильтров/скролла).
