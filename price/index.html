<!doctype html>
<html lang="ru" data-theme="default">
<head>
  <meta charset="utf-8">
  <title>Прайс — Jpegers</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/css/colors.css">
  <link rel="stylesheet" href="/css/base.css">
  <link rel="stylesheet" href="/css/layout.css">
  <link rel="stylesheet" href="/css/components.css">
  <link rel="stylesheet" href="/css/mobile.css">
<link rel="canonical" href="https://jpegers.art/price">
<link rel="icon" href="/assets/favicon.svg">

  <meta name="description" content="Jpegers — дизайн и визуальные проекты.">
  <meta property="og:title" content="Прайс — Jpegers">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://jpegers.art/price">
</head>
<body class="page-body">
  <!-- HEADER -->
  <header class="header-blur">
    <div class="header-content">
      <a href="/" class="logo-link" id="logo-link" aria-label="Jpegers — Портфолио">
        <img src="/assets/logo_jpegers.svg" alt="Jpegers" class="logo">
      </a>
      <nav class="topnav" aria-label="Навигация">
        <a class="topnav__link" href="/">Портфолио</a>
        <a class="topnav__link topnav__link--active" href="/price">Прайс</a>
        <a class="topnav__link" href="/contacts">Контакты</a>
        <!--<a class="topnav__link" href="/rita">Rita</a>-->
      </nav>
      <div class="header-right">
        <a class="contact-link" href="https://t.me/jpegers" target="_blank" rel="noopener">Написать в Telegram</a>
        <button class="burger" type="button" aria-label="Меню"><span></span></button>
      </div>
    </div>
    <div class="mobile-menu">
      <!-- Логотип в мобильном меню -->
      <div class="mobile-logo">
        <a href="/" class="logo-link" aria-label="Jpegers — Портфолио">
          <img src="/assets/logo_jpegers.svg" alt="Jpegers" class="logo">
        </a>
      </div>

      <nav class="mobile-nav">
        <a class="mobile-nav__link" href="/">Портфолио</a>
        <a class="mobile-nav__link topnav__link--active" href="/price">Прайс</a>
        <a class="mobile-nav__link" href="/contacts">Контакты</a>
        <!--<a class="topnav__link" href="/rita">Rita</a>-->
      </nav>
      <div class="mobile-cta">
        <a class="contact-link" href="https://t.me/jpegers" target="_blank" rel="noopener">Написать в Telegram</a>
      </div>
    </div>
  </header>

  <main class="page">
    <section class="page-hero">
      <h1 class="page-title">Прайс</h1>
      <p class="page-subtitle"><strong>Сроки:</strong> всегда максимально короткие — зависят от текущей загруженности и сложности задачи.</p>
    </section>

    <section class="page-card">
      <h2 class="page-h2">Как читать прайс</h2>
      <div class="note-grid">
        <div class="note">
          <div class="note__title">Базовый</div>
          <div class="note__text">Стандартная задача с чётким ТЗ, один основной вариант, ограниченное количество правок.</div>
        </div>
        <div class="note">
          <div class="note__title">Расширенный</div>
          <div class="note__text">Увеличенный объём работ: несколько вариантов, дополнительные форматы и расширенное число правок, без жёстких ограничений в рамках согласованного объёма.</div>
        </div>
        <div class="note">
          <div class="note__title">Индивидуально</div>
          <div class="note__text">Крупные, нестандартные или долгосрочные проекты с индивидуальными условиями и оценкой.</div>
        </div>
      </div>
    </section>

    <section class="page-card">
      <h2 class="page-h2">Услуги и стоимость</h2>
      <!-- Продающая подпись над прайсом -->
      <p class="price-note">Если не уверены в формате — подскажу оптимальный вариант под задачу и бюджет.</p>
      <!-- Фильтр категорий: позволяет выбирать группы услуг -->
      <nav id="price-filters" class="filters"></nav>
      <!-- Контейнер для динамически сгенерированных групп цен -->
      <div id="price-groups"></div>

      <div class="price-group" data-category="poly">
        <h3 class="page-h3">Полиграфия и печать</h3>
        <div class="table-wrap">
          <table class="price-table">
            <thead>
              <tr>
                <th>Услуга</th>
                <th>Базовый</th>
                <th>Расширенный</th>
                <th>Индивидуально</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>Визитки</td><td>3 000 ₽</td><td>5 000 ₽</td><td>от 8 000 ₽</td></tr>
              <tr><td>Листовки / флаеры</td><td>4 000 ₽</td><td>6 000 ₽</td><td>от 10 000 ₽</td></tr>
              <tr><td>Постеры / афиши</td><td>5 000 ₽</td><td>8 000 ₽</td><td>от 15 000 ₽</td></tr>
              <tr><td>Наклейки / стикеры</td><td>4 000 ₽</td><td>7 000 ₽</td><td>от 12 000 ₽</td></tr>
              <tr><td>Упаковка / пакеты</td><td>6 000 ₽</td><td>10 000 ₽</td><td>от 20 000 ₽</td></tr>
              <tr><td>Каталоги / брошюры</td><td>8 000 ₽</td><td>15 000 ₽</td><td>от 30 000 ₽</td></tr>
              <tr><td>Газеты</td><td>10 000 ₽</td><td>18 000 ₽</td><td>от 35 000 ₽</td></tr>
              <tr><td>Журналы</td><td>12 000 ₽</td><td>20 000 ₽</td><td>от 40 000 ₽</td></tr>
              <tr><td>Книги</td><td>15 000 ₽</td><td>30 000 ₽</td><td>от 60 000 ₽</td></tr>
              <tr><td>Подготовка к печати</td><td>2 000 ₽</td><td>4 000 ₽</td><td>от 7 000 ₽</td></tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="price-group" data-category="design">
        <h3 class="page-h3">Графический дизайн</h3>
        <div class="table-wrap">
          <table class="price-table">
            <thead>
              <tr>
                <th>Услуга</th><th>Базовый</th><th>Расширенный</th><th>Индивидуально</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>Графический дизайн (задача)</td><td>4 000 ₽</td><td>7 000 ₽</td><td>от 12 000 ₽</td></tr>
              <tr><td>Редизайн</td><td>6 000 ₽</td><td>10 000 ₽</td><td>от 20 000 ₽</td></tr>
              <tr><td>Баннеры</td><td>3 000 ₽</td><td>5 000 ₽</td><td>от 9 000 ₽</td></tr>
              <tr><td>Обложки (соцсети / проекты)</td><td>4 000 ₽</td><td>7 000 ₽</td><td>от 12 000 ₽</td></tr>
              <tr><td>Key visual</td><td>8 000 ₽</td><td>15 000 ₽</td><td>от 30 000 ₽</td></tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="price-group" data-category="images">
        <h3 class="page-h3">Работа с изображениями</h3>
        <div class="table-wrap">
          <table class="price-table">
            <thead>
              <tr>
                <th>Услуга</th><th>Базовый</th><th>Расширенный</th><th>Индивидуально</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>Ретушь</td><td>2 000 ₽</td><td>4 000 ₽</td><td>от 7 000 ₽</td></tr>
              <tr><td>Цветокоррекция</td><td>2 000 ₽</td><td>4 000 ₽</td><td>от 6 000 ₽</td></tr>
              <tr><td>Удаление фона</td><td>1 500 ₽</td><td>3 000 ₽</td><td>от 5 000 ₽</td></tr>
              <tr><td>Восстановление фото</td><td>3 000 ₽</td><td>6 000 ₽</td><td>от 10 000 ₽</td></tr>
              <tr><td>Подготовка изображений (web / print)</td><td>2 000 ₽</td><td>4 000 ₽</td><td>от 6 000 ₽</td></tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="price-group" data-category="layout">
        <h3 class="page-h3">Верстка и издания</h3>
        <div class="table-wrap">
          <table class="price-table">
            <thead>
              <tr>
                <th>Услуга</th><th>Базовый</th><th>Расширенный</th><th>Индивидуально</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>Верстка книг</td><td>10 000 ₽</td><td>20 000 ₽</td><td>от 40 000 ₽</td></tr>
              <tr><td>Верстка журналов</td><td>12 000 ₽</td><td>22 000 ₽</td><td>от 45 000 ₽</td></tr>
              <tr><td>Верстка газет</td><td>10 000 ₽</td><td>18 000 ₽</td><td>от 35 000 ₽</td></tr>
              <tr><td>PDF для печати</td><td>3 000 ₽</td><td>6 000 ₽</td><td>от 10 000 ₽</td></tr>
              <tr><td>PDF digital / интерактив</td><td>4 000 ₽</td><td>8 000 ₽</td><td>от 15 000 ₽</td></tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="price-group" data-category="ai">
        <h3 class="page-h3">AI и экспериментальные задачи</h3>
        <div class="table-wrap">
          <table class="price-table">
            <thead>
              <tr>
                <th>Услуга</th><th>Базовый</th><th>Расширенный</th><th>Индивидуально</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>AI-генерация изображений</td><td>3 000 ₽</td><td>6 000 ₽</td><td>от 12 000 ₽</td></tr>
              <tr><td>AI-визуал для брендов</td><td>6 000 ₽</td><td>12 000 ₽</td><td>от 25 000 ₽</td></tr>
              <tr><td>AI-доработка изображений</td><td>3 000 ₽</td><td>6 000 ₽</td><td>от 10 000 ₽</td></tr>
              <tr><td>Экспериментальные проекты</td><td>5 000 ₽</td><td>10 000 ₽</td><td>от 20 000 ₽</td></tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="page-footnote">
        <p>Цены указаны ориентировочно и могут меняться в зависимости от ТЗ и объёма работ. Стоимость не включает печать и услуги типографии. Финальная цена подтверждается перед стартом.</p>
      </div>
    </section>

  </main>
  <footer class="footer">
    <div class="footer__inner">
      <!-- Единый футер: ссылка на политику конфиденциальности и копирайт -->
      <div class="footer__links">
        <a href="/policy" target="_blank" rel="noopener noreferrer">Политика конфиденциальности</a>
      </div>
      <div class="footer__meta">
        <span class="footer__muted">© Jpegers</span>
      </div>
    </div>
  </footer>

  <script src="/js/menu.js"></script>
    <script>
    // Логика фильтрации на странице прайса
    document.addEventListener('DOMContentLoaded', function() {
      // Disable original filtering logic since we rebuild it dynamically.
      return;
      const filtersEl = document.getElementById('price-filters');
      if (!filtersEl) return;
      const priceGroups = Array.from(document.querySelectorAll('.price-group'));
      /*
       * Автоматическое создание фильтров на основе данных из CSV.
       * Загружает внешний CSV-файл с описанием услуг и формирует список категорий.
       * Если загрузка не удалась, извлекает названия категорий из DOM (заголовки групп).
       * Для каждой категории создаётся кнопка-фильтр. Кнопка "Все" отображает все группы.
       */
      async function buildFilters() {
        let categoryLabels = [];
        try {
          // Загружаем CSV-файл. В нём первая колонка — название раздела.
          const resp = await fetch('https://pub-3bc4f2b4686e4f2da3620e629a5a1aae.r2.dev/price.csv');
          if (!resp.ok) throw new Error('CSV load failed');
          const text = await resp.text();
          const lines = text.trim().split(/\r?\n/);
          for (let i = 0; i < lines.length; i++) {
            const row = lines[i].split(';');
            // Пустая строка или слишком короткая
            if (!row || !row[0]) continue;
            const cell = row[0].trim();
            // Пропускаем служебные строки с заголовками на русском или английском
            const low = cell.toLowerCase();
            if (low === 'section' || cell === 'Раздел' || cell.startsWith('section') || cell.startsWith('﻿section')) {
              continue;
            }
            if (cell && !categoryLabels.includes(cell)) {
              categoryLabels.push(cell);
            }
          }
        } catch (err) {
          // В случае ошибки извлекаем названия категорий из DOM
          categoryLabels = priceGroups
            .map(gr => gr.querySelector('h3')?.textContent.trim())
            .filter(Boolean);
        }
        // Добавляем фильтр "Все" в начало
        categoryLabels = ['Все', ...categoryLabels];
        // Создаём кнопки для каждой категории
        categoryLabels.forEach((label, idx) => {
          const btn = document.createElement('button');
          btn.className = 'filter-btn';
          if (idx === 0) {
            // Специальный стиль для фильтра "Все"
            btn.classList.add('filter-btn--all');
          } else {
            // Цветные теги для каждой категории, циклически перебираем цвета
            btn.classList.add('filter-btn--color');
            // Ограничиваем количество цветов до 7 (0–6), остальные повторяют цикл
            btn.dataset.colorIndex = (idx - 1) % 7;
          }
          btn.dataset.label = label;
          btn.textContent = label;
          btn.addEventListener('click', () => {
            // Переключаем видимость групп по названию заголовка
            priceGroups.forEach(group => {
              const heading = group.querySelector('h3')?.textContent.trim();
              if (label === 'Все' || heading === label) {
                group.style.display = '';
              } else {
                group.style.display = 'none';
              }
            });
            // Подсветка активной кнопки
            filtersEl.querySelectorAll('.filter-btn').forEach(b => {
              b.classList.toggle('filter-btn--active', b.dataset.label === label);
            });
          });
          filtersEl.appendChild(btn);
        });
        // Устанавливаем начальное активное состояние на первую кнопку ("Все")
        const firstBtn = filtersEl.querySelector('.filter-btn');
        if (firstBtn) firstBtn.classList.add('filter-btn--active');
      }
      // Инициализируем создание фильтров
      buildFilters();
    });
  </script>
  <script src="/js/cookies.js"></script>
  <!-- Dynamically build the price groups and filters from the local CSV -->
  <script>
    document.addEventListener('DOMContentLoaded', async function() {
      const filtersEl = document.getElementById('price-filters');
      const container = document.getElementById('price-groups');
      if (!filtersEl || !container) return;
      // Hide any existing hard‑coded groups
      document.querySelectorAll('.price-group:not([data-dynamic])').forEach(g => {
        g.style.display = 'none';
      });
      const groups = {};
      try {
        const resp = await fetch('/price/data.csv');
        const text = await resp.text();
        const lines = text.trim().split(/\r?\n/);
        for (let i = 0; i < lines.length; i++) {
          const parts = lines[i].split(';');
          if (!parts || parts.length < 5) continue;
          let section = parts[0].trim();
          // Skip header rows and empty sections
          if (!section || /^(section|раздел)$/i.test(section) || section.startsWith('﻿section')) continue;
          const service = (parts[1] || '').trim();
          if (!service || /^(услуга|service)$/i.test(service)) continue;
          const baseVal = (parts[2] || '').trim();
          const extVal  = (parts[3] || '').trim();
          const indVal  = (parts[4] || '').trim();
          const comment = (parts[5] || '').trim();
          if (!groups[section]) groups[section] = [];
          groups[section].push({ service, base: baseVal, extended: extVal, individual: indVal, comment });
        }
      } catch (err) {
        console.error('Failed to load data.csv', err);
      }
      function formatPrice(val) {
        if (!val) return '';
        val = val.trim();
        let prefix = '';
        let numStr = val;
        if (/^от/i.test(val)) {
          prefix = 'от ';
          numStr = val.replace(/^от\s*/i, '');
        }
        const digits = numStr.replace(/\s+/g, '');
        if (!/^\d+$/.test(digits)) {
          return val;
        }
        const formatted = digits.replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1 ') + ' ₽';
        return prefix + formatted;
      }
      const sections = Object.keys(groups);
      sections.forEach(section => {
        const groupDiv = document.createElement('div');
        groupDiv.className = 'price-group';
        groupDiv.dataset.dynamic = 'true';
        const h3 = document.createElement('h3');
        h3.className = 'page-h3';
        h3.textContent = section;
        groupDiv.appendChild(h3);
        const wrap = document.createElement('div');
        wrap.className = 'table-wrap';
        const table = document.createElement('table');
        table.className = 'price-table';
        const thead = document.createElement('thead');
        thead.innerHTML = '<tr><th>Услуга</th><th>Базовый</th><th>Расширенный</th><th>Индивидуально</th></tr>';
        table.appendChild(thead);
        const tbody = document.createElement('tbody');
        // Определяем цветовой индекс для секции. Используем позицию
        // секции в массиве sections, чтобы синхронизировать цвета с
        // кнопками фильтров. Всего предусмотрено 7 различных цветов,
        // индексы цикличны (0–6).
        const colorIndex = sections.indexOf(section) % 7;

        (groups[section] || []).forEach(row => {
          const tr = document.createElement('tr');
          const td0 = document.createElement('td');
          // Вставляем название услуги и иконку с подсказкой
          const nameSpan = document.createElement('span');
          nameSpan.textContent = row.service;
          td0.appendChild(nameSpan);
          if (row.comment) {
            const icon = document.createElement('span');
            icon.className = 'info-icon';
            icon.textContent = '?';
            /*
              Подсказка теперь отображает комментарий полностью без
              добавления префикса. Комментарии в CSV должны быть
              составлены в свободной форме, чтобы звучать естественно.
            */
            icon.dataset.tip = row.comment;
            // Сохраняем индекс цвета, чтобы CSS мог применить
            // соответствующий оттенок (var(--c-tag-X)) для обводки
            // и текста иконки.
            icon.dataset.colorIndex = colorIndex;
            td0.appendChild(icon);
          }
          const td1 = document.createElement('td');
          td1.textContent = formatPrice(row.base);
          const td2 = document.createElement('td');
          td2.textContent = formatPrice(row.extended);
          const td3 = document.createElement('td');
          td3.textContent = formatPrice(row.individual);
          tr.appendChild(td0);
          tr.appendChild(td1);
          tr.appendChild(td2);
          tr.appendChild(td3);
          tbody.appendChild(tr);
        });
        table.appendChild(tbody);
        wrap.appendChild(table);
        groupDiv.appendChild(wrap);
        container.appendChild(groupDiv);
      });
      const labels = ['Все', ...sections];
      labels.forEach((label, idx) => {
        const btn = document.createElement('button');
        btn.className = 'filter-btn';
        if (idx === 0) {
          btn.classList.add('filter-btn--all');
        } else {
          btn.classList.add('filter-btn--color');
          btn.dataset.colorIndex = (idx - 1) % 7;
        }
        btn.dataset.label = label;
        btn.textContent = label;
        btn.addEventListener('click', () => {
          const groupsEls = container.querySelectorAll('.price-group[data-dynamic]');
          groupsEls.forEach(group => {
            const heading = group.querySelector('h3')?.textContent.trim();
            if (label === 'Все' || heading === label) {
              group.style.display = '';
            } else {
              group.style.display = 'none';
            }
          });
          filtersEl.querySelectorAll('.filter-btn').forEach(b => {
            b.classList.toggle('filter-btn--active', b.dataset.label === label);
          });
        });
        filtersEl.appendChild(btn);
      });
      const firstBtn = filtersEl.querySelector('.filter-btn');
      if (firstBtn) firstBtn.classList.add('filter-btn--active');
    });
  </script>

  <!-- Tooltip overlay logic: выводит описание услуг поверх таблицы и поддерживает
       как desktop hover, так и mobile click с автозакрытием. -->
  <script>
    (function() {
      let tipEl = null;
      let currentIcon = null;
      let hideTimeout;

      function removeTip() {
        if (hideTimeout) {
          clearTimeout(hideTimeout);
          hideTimeout = null;
        }
        if (tipEl) {
          tipEl.remove();
          tipEl = null;
          currentIcon = null;
        }
      }

      function createTip(text) {
        const el = document.createElement('div');
        el.className = 'tooltip-popover';
        el.textContent = text;
        document.body.appendChild(el);
        return el;
      }

      function positionTip(icon) {
        if (!tipEl || !icon) return;
        const r = icon.getBoundingClientRect();
        const pad = 10;
        const gap = 8;
        // reset to get natural width/height
        tipEl.style.left = '0px';
        tipEl.style.top = '0px';
        const w = tipEl.offsetWidth;
        const h = tipEl.offsetHeight;
        // Default show above icon
        let top = r.top - h - gap;
        // If not enough space above, place below
        if (top < pad) {
          top = r.bottom + gap;
        }
        // Ensure within viewport
        if (top + h > window.innerHeight - pad) {
          top = Math.max(pad, window.innerHeight - h - pad);
        }
        // Horizontal center relative to icon
        let left = r.left + r.width / 2 - w / 2;
        if (left < pad) left = pad;
        if (left + w > window.innerWidth - pad) {
          left = window.innerWidth - w - pad;
        }
        tipEl.style.left = `${left}px`;
        tipEl.style.top = `${top}px`;
      }

      function showTip(icon) {
        const text = icon?.dataset?.tip;
        if (!text) return;
        // If clicking on the same icon again, just reposition
        if (tipEl && currentIcon === icon) {
          positionTip(icon);
          return;
        }
        removeTip();
        tipEl = createTip(text);
        currentIcon = icon;
        positionTip(icon);
      }

      // Desktop: show on hover
      document.addEventListener('mouseenter', function(e) {
        const icon = e.target.closest && e.target.closest('.info-icon');
        if (!icon) return;
        // Ignore hover on touch devices
        if ('ontouchstart' in window) return;
        showTip(icon);
      }, true);
      document.addEventListener('mouseleave', function(e) {
        const icon = e.target.closest && e.target.closest('.info-icon');
        if (!icon) return;
        if ('ontouchstart' in window) return;
        removeTip();
      }, true);

      // Mobile & Desktop: show on click
      document.addEventListener('click', function(e) {
        const icon = e.target.closest && e.target.closest('.info-icon');
        if (icon) {
          showTip(icon);
          // Auto-hide after 15 seconds on mobile or desktop click
          if (hideTimeout) clearTimeout(hideTimeout);
          hideTimeout = setTimeout(removeTip, 15000);
        } else {
          // Clicked outside: close if open
          if (tipEl) {
            removeTip();
          }
        }
      }, true);

      // Reposition on scroll: attach capture to ensure runs early
      window.addEventListener('scroll', function() {
        if (tipEl && currentIcon) {
          positionTip(currentIcon);
        }
      }, true);
      window.addEventListener('resize', function() {
        removeTip();
      });
    })();
  </script>

</body>
</html>
